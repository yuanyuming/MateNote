# A.HDT(全息数字孪生)市场
## 组成
- $M$  HDT用户集合$M = \{1,...,m,...,M\}$ 
- $N$  HDT服务提供商集合竞价拍卖$N = \{1,...,n,...,N\}$

用户通过HDT服务监视物理实体
不同用户的用途不同,对接受的服务估值不同
不同提供商硬件和云资源不同,对提供的服务价值不同

匹配定价问题
- 买家为用户
- 卖家为提供商

- HDT视觉表示观察者(买家)
	- 买家在每轮拍卖开始前向拍卖商提交报价
	- $k^t_m$ 用户m,在t回合出价
		- $k^t_m=V^B_m(R_m,a_m,d_m,j_m)$
		- 愿意支付的最大价格
		- $R_m$ 分辨率
		- $a_m$ 每个视点的兴趣
		- $d_m$ 观察时间
		- $j_m$ 兴趣衰减率
- HDT视觉表示提供商(卖家)
	- 卖家捕获和交付用户的视觉表示
	- 卖家在每轮拍卖前出价
	- $l^t_n$ 卖家n在t回合出价
		- $l^t_n=V^S_n(r_n,e_n,c_n,f_n,a_n,d_n)$ 
		- 卖家接受的最小价格
		- $r_n$ 基础速率
		- $e_n$ 频谱效率
		- $c_n$ CPU执行周期
		- $f_n$ CPU频率
		- $a_n$ 默认角度分辨率
		- $d_n$ 默认服务时长

# B.估价模型
## 1.买家价值
- $V^B_m=g^B_m(o_m(R_m)\times VoI_m(a_m,d_m,j_m))$
	- $g^B_m(·)$ 递增的凹函数
		- 将无限的价值映射为拍卖中的价格,作为买入价
	- $VoI_m(·)$ m的VoI
		- $VoI(a,d,j_a)=\sum^{|a|}_{i=1}\sum^d_{t=1}(1-(\frac{t}{d})^{j_a})\times a_i$ 
		- a 表示观察者每个视觉表示视点的兴趣
		- $j_a$ 用户兴趣衰减因子
		- VoI测量了全视角的全体兴趣
		- $j_a>0$ 反映了用户兴趣因子的衰减,越小衰减越快
		- ![[Pasted image 20221109155736.png]]
	- $o_m(·)$ m的客观意见评分
- 基于DDA的规则,出价高者将会被首先考虑和高概率匹配
- ![[Pasted image 20221112173705.png]] ^247a10

## 2.卖家价值
- $V^S_n=g^{S,com}_n(\frac{r_n}{e_n}a_nd_n)+g^{S,cmp}_n(\frac{r_nc_n}{f_n}a_nd_n)$ 
	- $c_n$ 单位数据量所需CPU周期
	- $e_n$ 频谱效率
	- $f_n$ CPU频率
	- $g^s_n$ 映射价值到价格,作为竞价
		- $g^{S,com}_n(·)$ 递减凸函数
		- $g^{S,cmp}_n(·)$ 递减凸函数
	- $r_n$ 基础速率
	- $a_n$ 默认可交互点数量(视角分辨率)
	- $d_n$ 默认服务时间
- 基于DDA规则,最低报价首先考虑和匹配

通过与买方竞价设计结合,需求高的买家被与供给高的卖家匹配


# C.双向荷式拍卖
[荷式拍卖](https://www.bilibili.com/video/BV1wt41137Qw/?spm_id_from=333.788.recommend_more_video.-1&vd_source=04a495c96f6163485fff74fa9c83211e](<【花拍中心交易片：新型鲜花拍卖 引领国际花卉市场价格走势】 【精准空降到 00:49】 https://www.bilibili.com/video/BV1wt41137Qw/?share_source=copy_web&vd_source=c814c17db59ee0fe4a11529083ec2b02&t=49>))
双向荷式拍卖
1. 买家Clock以高价格开始,持续下降
2. 某一时刻买家在合适的价格报价停下Clock
3. 这时,卖家Clock从低价格持续上升,直到卖家认可的价格
4. 买家继续下降
5. 当两个价格交叉时,以交叉价格成交

使用DDA同时最大化买家和卖家的效用
竞拍者初始化和调整两个荷兰Clock $C_B,C_S$ 和DDA中使用的拍卖标志$\Psi$ 
- $C_B$ 买家Clock ,每一轮拍卖当前购买价格
	- 以允许的最高价开始$p^{max}$ 
	- 买家回合下降
- $C_S$ 卖家Clock ,每一轮拍卖当前销售价格
	- 以允许的最低价开始$p^{min}$
	- 卖家回合上升
- 竞拍Clock决定了t轮拍卖的所有者
	- 如果竞拍标志$\Psi^t$ 为0,1,分别代表买家和卖家回合

- 竞拍以买家回合开始,$\Psi^0=0$ 
	- M买家以价格非增序列排序
		- $B=\{m|0\le m \lt M \wedge m < k \Rightarrow v^B_m \ge v^B_k\}$  
	- N卖家以价格非减少序列排序
		- $S=\{n|0\le n \lt N \wedge n < k \Rightarrow v^S_n \ge v^S_k\}$  
- 所有买家和卖家在竞拍开始时都是活跃的
	- 还未接受任何来自荷兰Clock的价格
		- $B^0_{active}=B,S^0_{active}=S$
	- 买家和卖家胜者序列为空
		- $B^0_{winning}=0,S^0_{winning}=0$
- 每一回合t中
	- $B=B^t_{active} \cup B^t_{winning},B^t_{active} \cap B^t_{winning}=\emptyset$ 
	- 两个序列$O_B,O_S$ 用于记录两个Clock中接受的价格
	- 序列$N_A(t)$ 用于记录每次拍卖中广播的听众的数量
	- 市场参与者决定是否接受Clock价格

1. 竞拍商广播荷兰Clock
	1. 当$\Psi^t=0$ 广播买家Clock值$C^t_B$ 到活跃买家
	2. 当$\Psi^t=1$ 广播卖家
2.  市场参与者检查荷兰Clock
	1. 当$\Psi^t=0$ 活跃买家检查买家时钟价格和他们的出价
		1. 当时钟价格不大于买家出价,买家m接受时钟价格作为他的出价
		2. $C^t_B \le V^B_m \Rightarrow k^t_m \leftarrow C^t_B$
		3. $k^t_m$ 更新后与期望报价的差异,称为买家的遗憾
	2. 当$\Psi^t=1$ 活跃卖家检查时钟价格和他们的报价
		1. 当时钟价格不小于卖家报价,卖家n接受时钟价格作为出价
		2. $C^t_S \le V^S_m \Rightarrow l^t_n \leftarrow C^t_S$
		3. 卖家的遗憾
	3. 多个市场参与者可以同一轮中参与同一个时钟价格
	4. 检查接受有效性直到竞拍结束
	5. 听众数量被加到序列$N_A$
3. 竞拍商荷兰钟的接受记录
	1. 当$\Psi^t=0$ 
		1. 接受目前买家钟价格的买家标记为非活动的
			1. $B^{t+1}_{active}=B^{t}_{active}\backslash\{m\}$ 
		2. 加入赢者集合
			1. $B^{t+1}_{winning} = B^t_{winning} \cup \{m\}$
		3. 接受的价格被加入$O_B$
	2. 将$\Psi^{t+1}$设为1,如果还有活跃卖家
		1. 接受目前卖家时钟价格的标记为非活动
			1. $S^{t+1}_{active}=S^{t}_{active}\backslash\{n\}$
		2. 加入赢者集合
			1. $C^{t+1}_{winning} = C^t_{winning} \cup \{n\}$
		3. 接受的价格加入$O_S$
	3. 如果多个参与者同一回合接受了同样的价格,
		1. 时钟价格将会多次添加到对应的序列
		2. 之后如果有活跃用户,更改标志位
4. 竞拍商调整荷兰钟
	1. ![[Pasted image 20221109221502.png]]
	2. 调整选定的步长(最小价格间隔$p^*$ 的倍数)
		1. $\Theta^t=kp^*$ k正整数
	3. 时钟更新
		1. 买家时钟
			1. $\Psi^t=0 \Rightarrow C^{t+1}_B=C^t_B-\Theta^t$ 
		2. 卖家时钟
			1. $\Psi^t=1 \Rightarrow C^{t+1}_S=C^t_S+\Theta^t$
5. 拍卖终止条件
	1. 满足一下任意条件,拍卖停止,记录一共的回合数,T=t
		1. 没有活跃的买家和买家
			1. $(B^{t+1}_{active}=\emptyset)\wedge(S^{t+1}_{active}=\emptyset)=true$ 
		2. 两个荷兰钟交叉
			1. $C^{t+1}_B<C^{t+1}_S$
	2. 拍卖结束后,赢者决定规则被用于决定合格的交易
	3. $\omega = min\{|W_B|,|W_S|\}$ 可允许的候选匹配
	4. 市场结算时
		1. 当$\Phi^T=1$ ,第一个$\omega -1$ 买家和卖家赢得拍卖, 结算价格为$p^c=\frac{C^T_B+C^T_S}{2}$ 
		2. 当$\Phi^T=0$ ,第一个$\omega$ 买家和卖家赢得拍卖,结算价格为$p^c=\frac{C^{T+1}_B+C^{T+!}_{S}}{2}$  


# D.市场效率量度
社会福利(SW)
$$ SW=U_B+U_S-P_C$$
- $U_B$ 买家效用
	- 买家m的效用
		- 买方时钟的价格相较于自身估值节省的价格
		- $p^c-O_B(m)$ 
	- $U_B=\sum^\omega_{i=0}(v^B_i-O_B(i))$
- $U_S$ 卖家效用
	- 卖家n的效用
		- 卖方时钟的价格相较于自身估价多得的利润
		- $O_S(n)-p^c$
	- $U_S=\sum^\omega_{i=0}(O_S(i)-v^S_i)$
- $P_C$ 竞拍中消耗的资源
	- 总体广播花费
	- t轮拍卖中的广播花费
		- $c_b·N_A(t)$
			- $c_b$ 广播单位成本
	- $P_C=\sum^T_{t=0}(p_b·N_A(t))$



# E.问题形成
- 个体理性
	- 买卖双方达成非负的效用
		- 输者效用为0
	- 结算价格小于等于他们接受的时钟价格
- 可信
	- 买卖双方除了提交真实价值,没有其他动机
	- 胜者有相同的关键单调支付
		- 共同交叉价格
- 预算均衡
	- 市场以共同交叉价格结算
	- 市场的预算总为0,因此预算均衡
 